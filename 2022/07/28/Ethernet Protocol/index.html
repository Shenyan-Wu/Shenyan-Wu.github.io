<!DOCTYPE html><html lang="zh_CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Ethernet 车载以太网（Vector） | Shenyan Wu</title><meta name="author" content="Shenyan Wu"><meta name="copyright" content="Shenyan Wu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="此文章来源于 Vector 官方教程，官方的教程内容详细，理解简单，还有部分可以辅助理解的交互页面帮助学习，十分不错。不过在学习过程中，发现按章节分页时，查阅十分不便，我将其搬运至此方便个人查阅与理解 内容来源于 Vector ，接下来会在其他学习过程中整理相关课程至此，相关内容仅供方便查阅，详情请访问  Vector               CAN 通信协议"><meta property="og:type" content="article"><meta property="og:title" content="Ethernet 车载以太网（Vector）"><meta property="og:url" content="https://shenyanwu.top/2022/07/28/Ethernet%20Protocol/index.html"><meta property="og:site_name" content="Shenyan Wu"><meta property="og:description" content="此文章来源于 Vector 官方教程，官方的教程内容详细，理解简单，还有部分可以辅助理解的交互页面帮助学习，十分不错。不过在学习过程中，发现按章节分页时，查阅十分不便，我将其搬运至此方便个人查阅与理解 内容来源于 Vector ，接下来会在其他学习过程中整理相关课程至此，相关内容仅供方便查阅，详情请访问  Vector               CAN 通信协议"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/Ethernet_cover.png"><meta property="article:published_time" content="2022-07-28T09:35:16.000Z"><meta property="article:modified_time" content="2023-08-27T11:17:16.235Z"><meta property="article:author" content="Shenyan Wu"><meta property="article:tag" content="Protocol"><meta property="article:tag" content="教程"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/Ethernet_cover.png"><link rel="shortcut icon" href="https://cdn.shenyanwu.top/Image/favicon.png"><link rel="canonical" href="https://shenyanwu.top/2022/07/28/Ethernet%20Protocol/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"Just",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:void 0,lightbox:"mediumZoom",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!0}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Ethernet 车载以太网（Vector）",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-08-27 19:17:16"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)})),e.getCSS=(e,t=!1)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,n=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!o&&!a&&!n;if(void 0===t){if(a)activateLightMode();else if(o)activateDarkMode();else if(n||c){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/custom/custom.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3949965_zlxge6oopd.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3961691_jvjklfsnh6.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3952611_jy1uuol1v2f.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248 626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()}))</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="an_music_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.shenyanwu.top/Image/Avatar.gif" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-home"></use></svg> <span class="menu_word" style="font-size:18px">主页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhang"></use></svg> <span class="menu_word" style="font-size:18px">文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-archiver"></use></svg> <span class="menu_word" style="font-size:18px">归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg> <span class="menu_word" style="font-size:18px">标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg> <span class="menu_word" style="font-size:18px">分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-chat"></use></svg> <span class="menu_word" style="font-size:18px">社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg> <span class="menu_word" style="font-size:18px">友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-chat1"></use></svg> <span class="menu_word" style="font-size:18px">留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangzi"></use></svg> <span class="menu_word" style="font-size:18px">工具箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://music.shenyanwu.top"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music1"></use></svg> <span class="menu_word" style="font-size:18px">音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/videos/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-videos"></use></svg> <span class="menu_word" style="font-size:18px">视频</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-todolist"></use></svg> <span class="menu_word" style="font-size:18px">ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-about"></use></svg> <span class="menu_word" style="font-size:18px">关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/Ethernet_cover.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Shenyan Wu"><span class="site-name">Shenyan Wu</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-home"></use></svg> <span class="menu_word" style="font-size:18px">主页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wenzhang"></use></svg> <span class="menu_word" style="font-size:18px">文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-archiver"></use></svg> <span class="menu_word" style="font-size:18px">归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg> <span class="menu_word" style="font-size:18px">标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg> <span class="menu_word" style="font-size:18px">分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-chat"></use></svg> <span class="menu_word" style="font-size:18px">社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg> <span class="menu_word" style="font-size:18px">友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-chat1"></use></svg> <span class="menu_word" style="font-size:18px">留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangzi"></use></svg> <span class="menu_word" style="font-size:18px">工具箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://music.shenyanwu.top"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music1"></use></svg> <span class="menu_word" style="font-size:18px">音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/videos/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-videos"></use></svg> <span class="menu_word" style="font-size:18px">视频</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-todolist"></use></svg> <span class="menu_word" style="font-size:18px">ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-about"></use></svg> <span class="menu_word" style="font-size:18px">关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Ethernet 车载以太网（Vector）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="post_icon" aria-hidden="true"><use xlink:href="#icon-calendar"></use></svg><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-28T09:35:16.000Z" title="Created 2022-07-28 17:35:16">2022-07-28</time><span class="post-meta-separator">|</span><svg class="post_icon" aria-hidden="true"><use xlink:href="#icon-gengxin"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-27T11:17:16.235Z" title="Updated 2023-08-27 19:17:16">2023-08-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="post_icon" aria-hidden="true"><use xlink:href="#icon-wordFile"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">9.9k</span><span class="post-meta-separator">|</span><svg class="post_icon" aria-hidden="true"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>30min</span></span><span class="post-meta-separator">|</span><span data-flag-title="Ethernet 车载以太网（Vector）"><svg class="post_icon" aria-hidden="true"><use xlink:href="#icon-yanjing1"></use></svg><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note primary modern"><p>此文章来源于 <a target="_blank" rel="noopener" href="https://elearning.vector.com/"><code>Vector</code></a> 官方教程，官方的教程内容详细，理解简单，还有部分可以辅助理解的交互页面帮助学习，十分不错。不过在学习过程中，发现按章节分页时，查阅十分不便，我将其搬运至此方便个人查阅与理解</p><p>内容来源于 <a target="_blank" rel="noopener" href="https://elearning.vector.com/"><code>Vector</code></a> ，接下来会在其他学习过程中整理相关课程至此，相关内容仅供方便查阅，详情请访问 <a target="_blank" rel="noopener" href="https://elearning.vector.com/"><code>Vector</code></a></p><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/CAN%20Protocol">CAN 通信协议</a></p></div><div class="checkbox green checked"><input type="checkbox" checked><p>Ethernet 车载以太网规范&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;&#12288;👈目前位置</p></div><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/FlexRay%20Protocol/">FlexRay 串行通信</a></p></div><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/LIN%20Protocol/">LIN 局域互联网</a></p></div><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/SAE%20J1939%20Protocol/">SAE J1939 控制器局域网规范</a></p></div><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/AUTOSAR%20Protocol/">AUTOSAR 汽车开放系统架构</a></p></div><div class="checkbox yellow"><input type="checkbox"><p><a target="_blank" rel="noopener" href="https://www.shenyanwu.top/2023/02/22/XCP%20Protocol/">XCP 协议</a></p></div></div><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="车载以太网（Automotive-Ethernet）学习模块"><a href="#车载以太网（Automotive-Ethernet）学习模块" class="headerlink" title="车载以太网（Automotive Ethernet）学习模块"></a>车载以太网（Automotive Ethernet）学习模块</h2><p>基于以太网和IP的通信已在汽车行业中使用多年，如今这种通信技术越来越多地用于车内的数据传输。</p><h3 id="目标群体"><a href="#目标群体" class="headerlink" title="目标群体"></a>目标群体</h3><p>该在线学习模块适用于所有希望更好地了解以太网和IP通信技术的人员。</p><h3 id="Vector培训课程"><a href="#Vector培训课程" class="headerlink" title="Vector培训课程"></a>Vector培训课程</h3><p>该在线学习模块还适用于所有计划参加Vector以太网和IP主题培训课程的人员。您可以在参加培训之前先了解基于以太网和IP的通信的基础知识。这样就能更轻松地进行培训，因为在培训期间会重温某些内容，并进行更深入的讲解。</p><h3 id="相关信息"><a href="#相关信息" class="headerlink" title="相关信息"></a>相关信息</h3><h4 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h4><ul><li>了解汽车行业中基于以太网和IP的通信</li></ul><h4 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h4><ul><li><a target="_blank" rel="noopener" href="https://elearning.vector.com/mod/page/view.php?id=4855">动因</a></li><li>时间</li></ul><h4 id="范围"><a href="#范围" class="headerlink" title="范围"></a>范围</h4><ul><li>18 个学习单元</li></ul><h4 id="学习用时"><a href="#学习用时" class="headerlink" title="学习用时"></a>学习用时</h4><ul><li>每个学习单元10分钟</li></ul><h3 id="版权声明"><a href="#版权声明" class="headerlink" title="版权声明"></a><strong>版权声明</strong></h3><p>详情查看Vector培训官网 -《<a target="_blank" rel="noopener" href="https://vector-academy.com/vi_training_copyright_cn.html">版权声明</a>》</p><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><h2 id="动因"><a href="#动因" class="headerlink" title="动因"></a>动因</h2><h3 id="历史背景"><a href="#历史背景" class="headerlink" title="历史背景"></a>历史背景</h3><p>近几十年来，为了让驾驶更安全、更舒适以及更环保，汽车的功能也越来越多。我们越来越多电子元件用于实现这些功能，与此同时，这些电子元件对信息交换的需求也在不断增加。电子元件包括电子控制单元(ECU)以及支持自动驾驶且功能日益强大的传感器和执行器。</p><h3 id="日益增加的需求"><a href="#日益增加的需求" class="headerlink" title="日益增加的需求"></a>日益增加的需求</h3><p>除了传统的驾驶要求，对于汽车多媒体和信息娱乐系统的要求也越来越高。例如，当前已有各种不同的音视频系统，可满足车辆用户和乘客的娱乐需求。许多车辆具有连接智能手机或其他可连网设备的功能。目前，网络化程度增高的大趋势正进一步影响着这些系统，并将最终增加对于车内数据传输的可用带宽的要求。</p><h3 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h3><p>近几十年来，以太网已被证实是通信系统中的一种灵活、可扩展的网络技术。以太网的主要优势之一是支持多种物理介质，这使其可以应用于汽车。由于物理介质与协议无关，因此可以轻松开发或调整其他传输技术，以满足汽车行业的要求。因此，以太网将在未来车辆平台中长期使用。</p><h2 id="标准化"><a href="#标准化" class="headerlink" title="标准化"></a>标准化</h2><h3 id="IEEE（The-Institute-of-Electrical-and-Electronics-Engineers，美国电气与电子工程师协会）"><a href="#IEEE（The-Institute-of-Electrical-and-Electronics-Engineers，美国电气与电子工程师协会）" class="headerlink" title="IEEE（The Institute of Electrical and Electronics Engineers，美国电气与电子工程师协会）"></a>IEEE（The Institute of Electrical and Electronics Engineers，美国电气与电子工程师协会）</h3><p>自1980年以来， IEEE一直负责以太网的维护和进一步开发。尽管各家公司都可提供专有的以太网解决方案和增强功能，但大多数情况下，这些公司会将这些解决方案和增强功能交给IEEE以确保涉及更广泛的应用领域，从而获得商业上的成功。工作组 802 负责以太网。因此，所有与以太网相关的标准的编号都以802开头（如IEEE 802.1、IEEE 802.2、IEEE 802.3等）。</p><h3 id="OPEN-Alliance-SIG"><a href="#OPEN-Alliance-SIG" class="headerlink" title="OPEN Alliance SIG"></a>OPEN Alliance SIG</h3><p>汽车整车厂和供应商组成OPEN Alliance SIG，致力于促进以太网在汽车行业的进一步发展。多个技术委员会致力于创建规范，以及监控市场渗透率，确保元件、测试和分析工具的可用性。OPEN Alliance SIG携手IEEE，将车载以太网转化为通用标准。</p><h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="IEEE-100BASE-T1（前身即OABR"><a href="#IEEE-100BASE-T1（前身即OABR" class="headerlink" title="IEEE 100BASE-T1（前身即OABR)"></a>IEEE 100BASE-T1（前身即OABR)</h2><h3 id="标准"><a href="#标准" class="headerlink" title="标准"></a>标准</h3><p>OABR（Open Alliance BroadR-Reach）是一种物理传输技术，起初由Broadcom（博通公司）开发，后由OPEN Alliance SIG 标准化为IEEE 100BASE-T1。</p><h3 id="物理连接"><a href="#物理连接" class="headerlink" title="物理连接"></a>物理连接</h3><p>传输对称差分电压的双绞电缆用于物理连接。发送方将需要发送的位流编码成用电压表示的符号。接收方将收到的符号流进行解码从而获取其中包含的位。</p><h3 id="编码（Encoding）和解码（Decoding）"><a href="#编码（Encoding）和解码（Decoding）" class="headerlink" title="编码（Encoding）和解码（Decoding）"></a>编码（Encoding）和解码（Decoding）</h3><p>4B3B、3B2T和PAM3方法用于编码和解码以及产生差分电压。这些方法由IEEE 100BASE-T1 PHY实现，集成在ECU的一个特定模块中。PHY在物理介质和以太网控制器之间建立连接。</p><h3 id="拓扑结构（Topology）"><a href="#拓扑结构（Topology）" class="headerlink" title="拓扑结构（Topology）"></a>拓扑结构（Topology）</h3><p>每根电缆仅连接两个节点。因此，仅支持点对点（point-to-point）拓扑结构。某些设备可以连接两个以上的节点，通常是交换机。交换机作为第 2 层连接设备，可以连接多个物理连接，并且可以独立地在分支之间转发报文。</p><h3 id="全双工（Full-duplex）"><a href="#全双工（Full-duplex）" class="headerlink" title="全双工（Full duplex）"></a>全双工（Full duplex）</h3><p>该物理层的特点之一是可以用双绞线以100 Mbit/s的速度双向传输信息，即两个相互连接的节点可以同时发送信息（全双工）。作为发送方时，节点会将自己的差分电压施加到双绞线上；而作为接收方时，节点会从总电压中减去自己施加的电压，从而得到对方节点发送的电压。此机制属于回波消除法，也应用在其它以太网系统中。</p><h3 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h3><p>为了计算差分电压，两个节点必须知道新的电压信号的开始时间。这意味着两个节点必须同步符号流。利用主节点和从节点可以解决此问题：主节点生成一个连续符号流，从节点与之同步。微控制器的基础软件将PHY配置为主节点或从节点。</p><p><strong>相关配图</strong></p><div class="tabs" id="ieee-100base-t1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ieee-100base-t1-1">IEEE100BASET1</button></li><li class="tab"><button type="button" data-href="#ieee-100base-t1-2">ECUBasicSetupIEEE100BASET1</button></li><li class="tab"><button type="button" data-href="#ieee-100base-t1-3">CodingExample</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ieee-100base-t1-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.1_GRA_IEEE100BASET1_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ieee-100base-t1-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.1_GRA_ECUBasicSetupIEEE100BASET1_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ieee-100base-t1-3"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.1_GRA_CodingExample_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="IEEE-100BASE-TX"><a href="#IEEE-100BASE-TX" class="headerlink" title="IEEE 100BASE-TX"></a>IEEE 100BASE-TX</h2><h3 id="物理连接-1"><a href="#物理连接-1" class="headerlink" title="物理连接"></a>物理连接</h3><p>对于物理连接，IEEE 100BASE-TX通常需要两个通道（channel），每个通道有两条双绞线。尽管某些以太网可以使用单通道进行通信，但实际上这种情况很少发生，因为这些网络仅支持单工或半双工。</p><h3 id="编码和解码"><a href="#编码和解码" class="headerlink" title="编码和解码"></a>编码和解码</h3><p>双绞线传输对称差分电压，用于表示编码符号。发送方基于所需的位流对符号进行编码。接收方对符号流解码，从而复原发送的位。</p><p>与IEEE 100BASE-T1不同，IEEE 100BASE-TX通过使用NRZI、4B5B和MLT-3方法进行编码和解码以及生成差分电压。这些方法由IEEE 100BASE-TX PHY实现，集成在ECU的一个特定模块中。PHY在物理介质和以太网控制器之间建立连接。</p><h3 id="电缆和连接器"><a href="#电缆和连接器" class="headerlink" title="电缆和连接器"></a>电缆和连接器</h3><p>标准Cat5或Cat5e电缆通常用于IEEE 100BASE-TX。在八条可用线缆中，需要使用四条线缆连接两个通道。EIA/TIA-568A和EIA/TIA-568B标准定义双绞线的分配，以及常用的RJ45接器和插座的引脚分配。</p><h3 id="拓扑结构"><a href="#拓扑结构" class="headerlink" title="拓扑结构"></a>拓扑结构</h3><p>每根电缆仅连接两个节点。因此，仅支持点对点拓扑结构。某些设备可以连接两个以上的节点，通常是交换机。交换机作为第 2 层连接设备，可以连接多个物理连接，并且可以独立地在分支之间转发报文。</p><h3 id="双重单工（Dual-Simplex）"><a href="#双重单工（Dual-Simplex）" class="headerlink" title="双重单工（Dual Simplex）"></a>双重单工（Dual Simplex）</h3><p>如果使用两个通道实现IEEE 100BASE-TX，即可以100 Mbit/s的速度双向传输信息：一个通道用于发送，另一个通道用于接收。如果PHY仅支持固定的通道分配，则必须使用交叉电缆连接两个节点。但目前大多数新式PHY具有自动协商机制，可以自动检测通道的使用情况。有了自动协商机制，就无需使用交叉电缆。</p><p><strong>相关配图</strong></p><div class="tabs" id="ieee-100base-tx"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ieee-100base-tx-1">IEEE100BASETX</button></li><li class="tab"><button type="button" data-href="#ieee-100base-tx-2">ECUBasicSetupIEEE100BASETX</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ieee-100base-tx-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.2_GRA_IEEE100BASETX_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ieee-100base-tx-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.2_GRA_ECUBasicSetupIEEE100BASETX_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="IEEE-1000BASE-T"><a href="#IEEE-1000BASE-T" class="headerlink" title="IEEE 1000BASE-T"></a>IEEE 1000BASE-T</h2><h3 id="物理连接-2"><a href="#物理连接-2" class="headerlink" title="物理连接"></a>物理连接</h3><p>对于物理连接，IEEE 1000BASE-T需要四个通道，每个通道有两条双绞线。双绞线传输对称差分电压，用于表示编码符号。</p><h3 id="编码和解码-1"><a href="#编码和解码-1" class="headerlink" title="编码和解码"></a>编码和解码</h3><p>发送方对与位流相对应的符号进行编码。接收方对符号流解码，从而复原发送的位。与IEEE 100BASE-T1和IEEE 100BASE-TX不同，IEEE 1000BASE-T使用8B1Q4、Trellis、Viterbi和PAM5方法进行编码和解码以及生成差分电压。这些方法通过集成在ECU中的IEEE 1000BASE-T PHY模块实现。PHY在物理介质和以太网控制器之间建立连接。</p><h3 id="电缆和连接器-1"><a href="#电缆和连接器-1" class="headerlink" title="电缆和连接器"></a>电缆和连接器</h3><p>标准Cat5e电缆通常用于IEEE 1000BASE-T。连接四个通道需要所有八条可用线缆。EIA/TIA-568A和EIA/TIA-568B标准定义了双绞线的分配，以及常用的RJ45连接器和插座的引脚分配。</p><h3 id="拓扑结构-1"><a href="#拓扑结构-1" class="headerlink" title="拓扑结构"></a>拓扑结构</h3><p>每根线缆反连连到两个节点上。因此，仅支持点对点拓扑结构。某些设备可以连接两个以上的节点，通常是交换机。交换作为第 2 层连接设备，可以连接到多个物理连接，并且可以独立地在分支之间转发报文。</p><h3 id="全双工"><a href="#全双工" class="headerlink" title="全双工"></a>全双工</h3><p>由于PAM5，两个相互连接的节点可以同时在四个通道上进行发送和接收（全双工）。作为发送方时，节点会将自己的差分电压施加到线缆上；而作为接收方时，节点会从总电压中减去自己施加的电压，从而得到对方节点发送的电压。此机制属于回波消除法，也应用在其他以太网系统中。</p><h3 id="同步-1"><a href="#同步-1" class="headerlink" title="同步"></a>同步</h3><p>为了计算差分电压，两个节点必须了解新符号开始的时间。这意味着两个节点必须同步符号流。利用主节点和从节点可以解决此问题。主节点生成一个连续符号流，从节点与之同步。与IEEE 100BASE-T1不同，主/从节点不是固定的，而是使用自动协商机制进行协商。</p><p><strong>相关配图</strong></p><div class="tabs" id="ieee-1000base-t"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ieee-1000base-t-1">IEEE1000BASET</button></li><li class="tab"><button type="button" data-href="#ieee-1000base-t-2">ECUBasicSetupIEEE1000BASET</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ieee-1000base-t-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.3_GRA_IEEE1000BASET_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ieee-1000base-t-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_3.3_GRA_ECUBasicSetupIEEE1000BASET_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="IEEE以太网MAC和VLAN"><a href="#IEEE以太网MAC和VLAN" class="headerlink" title="IEEE以太网MAC和VLAN"></a>IEEE以太网MAC和VLAN</h1><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><h3 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h3><p>太网通信的第二层提供用于控制数据传输的重要基本功能，包括统一的报文结构，节点寻址和总线访问方式（bus access method）。所有基本功能在以太网控制器中实现，目前该控制器通常是微控制器的一个组成部分。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.1_GRA_ECUBasicSetup_EN.png" alt=""></p><h3 id="数据传输"><a href="#数据传输" class="headerlink" title="数据传输"></a>数据传输</h3><p>符号和符率是针对物理层而言的，第二层传输的是按位组成的以太网帧。位流通常通过介质无关接口（MII）在以太网PHY和以太网控制器之间传输。MII是IEEE标准化接口，具有多种变型以满足不同的传输速度。</p><h3 id="总线访问方式"><a href="#总线访问方式" class="headerlink" title="总线访问方式"></a>总线访问方式</h3><p>在发送报文之前，以太网控制器首先侦听物理介质（载波监听），判断网络中的另一个节点是否正在发送报文，从而防止报文被覆盖。如果介质处于空闲状态，则以太网控制器开始进行数据传输。</p><p>由于多个节点可能会通过以太网同时访问总线（多路访问），因此如果两个节点同时开始发送，则在传统总线网络上可能会发生冲突。对于这种情况，以太网控制器具有用于取消传输的冲突检测（collision detection）功能。为防止产生第二次冲突，节点须等待随机时间之后才开始重新发送（避退过程）。每个发送方必须自己计算随机时间。</p><h3 id="冲突检测"><a href="#冲突检测" class="headerlink" title="冲突检测"></a>冲突检测</h3><p>完整的总线访问方式被称为载波监听多路访问/冲突检测（CSMA/CD），相关算法在以太网控制器中实现。对于车载以太网的物理层，冲突检测位于次要地位。IEEE 100BASE-T1、IEEE 100BASE-TX和IEEE 1000BASE-T都允许全双工数据传输。因此，这些物理介质上不会发生冲突。</p><h2 id="寻址"><a href="#寻址" class="headerlink" title="寻址"></a>寻址</h2><h3 id="节点寻址"><a href="#节点寻址" class="headerlink" title="节点寻址"></a>节点寻址</h3><p>节点寻址用于在以太网中定向传递报文。为此，每个节点至少具有一个MAC地址，作为局域网（LAN）中的唯一标识。传输的报文始终包含源地址和目标地址，以便可以推断通信节点。</p><h3 id="单播（Unicast）"><a href="#单播（Unicast）" class="headerlink" title="单播（Unicast）"></a>单播（Unicast）</h3><p>节点使用单播地址作为唯一的寻址手段。主机厂可指定这些地址，或者供应商可以从他们自己的地址范围中进行选择。关于地址范围的获取，供应商可以向IEEE进行申请或者注册，之后便可以获取全球唯一的地址范围。</p><h3 id="组播（Multicast）和广播（Broadcast）"><a href="#组播（Multicast）和广播（Broadcast）" class="headerlink" title="组播（Multicast）和广播（Broadcast）"></a>组播（Multicast）和广播（Broadcast）</h3><p>为了使报文传递到多个节点，除了单播报文之外，还可以使用组播地址。通过定义一组节点，组内成员可通过共享的MAC地址接收报文。与允许将报文发送到所有节点的广播地址不同，组播地址必须在相应的节点中配置。</p><h3 id="VLAN（虚拟局域网）"><a href="#VLAN（虚拟局域网）" class="headerlink" title="VLAN（虚拟局域网）"></a>VLAN（虚拟局域网）</h3><p>作为经典寻址方式的扩展，VLAN地址经常用于汽车行业。这些地址虚拟网络存在于整个网络中，并允许划定通信范围。这样就可以为不同的应用划分不同的域，域内成员可相互通信。由于ECU可以使用或提供多个应用，因此可能是多个域的成员，进而可能是多个VLAN网络的成员。</p><h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>为了提高实时性（real-time behavior），VLAN还提供定义报文优先级的选项，确保重要的数据优先通过交换机进行路由，从而减少延迟时间。</p><p><strong>相关配图</strong></p><div class="tabs" id="寻址"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#寻址-1">EthernetPacket</button></li><li class="tab"><button type="button" data-href="#寻址-2">Addressing</button></li><li class="tab"><button type="button" data-href="#寻址-3">VLAN</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="寻址-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.2_GRA_EthernetPacket_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="寻址-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.2_GRA_Addressing_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="寻址-3"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.2_GRA_VLAN_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="以太网帧"><a href="#以太网帧" class="headerlink" title="以太网帧"></a>以太网帧</h2><h3 id="基本帧和标识帧（tagged-frame）"><a href="#基本帧和标识帧（tagged-frame）" class="headerlink" title="基本帧和标识帧（tagged frame）"></a>基本帧和标识帧（tagged frame）</h3><p>IEEE规范定义了不同格式的以太网帧。汽车行业通常使用Ethernet II帧，包含可以标志VLAN的扩展信息。因此，可以把以太网帧划分为基本MAC帧（不含VLAN）和标识MAC帧（包含VLAN）。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.3_GRA_EthernetIIFrame_EN.png" alt=""></p><h3 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h3><p>Ethernet II帧通常以接收方/目的地址开头，指定哪些网络节点将接收这帧报文。与发送方/源地址只能使用单播地址不同，接收方/目的地址还可以使用组播或广播地址。对于以太网帧来说，只能有一个发送方，但可以有多个接收方。</p><h3 id="以太网类型"><a href="#以太网类型" class="headerlink" title="以太网类型"></a>以太网类型</h3><p>基本MAC帧和标识MAC帧通过类型字段（以太网类型）进行区分。类型字段通常会标识有效负载数据区域中所包含的数据包（packet），并提供关于更高层（如IPv4）中使用的协议的信息。如果以太网类型的值为0x8100，那么类型字段将向后移动四个字节，并在其原始位置插入一个VLAN标签。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.3_GRA_ExampleTypeField_EN.png" alt=""></p><h3 id="VLAN标签"><a href="#VLAN标签" class="headerlink" title="VLAN标签"></a>VLAN标签</h3><p>VLAN标签由协议标识符（TPID）和控制信息（TCI）组成。TPID包含原始类型字段的值，而TCI由优先级（PCP）、丢弃资格指示符或规范格式指示符（DEI或CFI）和VLAN标识符（VID）组成。标识符和优先级主要应用于汽车行业。标识符为不同的应用领域划分各自的虚拟网络。优先级的设定使得交换机可以通过优先转发重要信息来优化运行时间。</p><h3 id="有效负载"><a href="#有效负载" class="headerlink" title="有效负载"></a>有效负载</h3><p>在字段类型之后，是Ethernet II帧包含的有效负载数据区域。有效负载的最小长度为46个字节（不含VLAN标签）或42个字节（含VLAN标签）。在汽车行业中，有效负载一般最多可包含1500个字节。</p><h3 id="CRC校验和"><a href="#CRC校验和" class="headerlink" title="CRC校验和"></a>CRC校验和</h3><p>CRC校验和在Ethernet II帧的末尾。标准算法用于计算校验和，且该算法在发送方和接收方中以相同的方式实现。CRC校验和覆盖以太网II帧所有字段，因此可以确保整个报文的完整性。</p><h3 id="以太网数据包"><a href="#以太网数据包" class="headerlink" title="以太网数据包"></a>以太网数据包</h3><p>为了传输Ethernet II帧，以太网控制器在开始时会插入一个前导码和一个起始帧界定符（SFD），旧的以太网标准以此做为传输开始的标识。所以以太网数据包包括：前导码、起始帧定界符和以太网II帧。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_4.2_GRA_EthernetPacket_EN.png" alt=""></p><h1 id="IP协议-IPv4-IPv6"><a href="#IP协议-IPv4-IPv6" class="headerlink" title="IP协议- IPv4/IPv6"></a>IP协议- IPv4/IPv6</h1><h2 id="特性-1"><a href="#特性-1" class="headerlink" title="特性"></a>特性</h2><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>Internet协议（IP）支持超出局域网范围的通信。为此，对负责实际传输数据的底层协议进行抽象，无需对传输的数据包进行调整即可实现在同一网络中或跨多个网络（如UMTS、WLAN等）访问目标节点。</p><h3 id="IP数据包"><a href="#IP数据包" class="headerlink" title="IP数据包"></a>IP数据包</h3><p>IP数据包可实现<a target="_blank" rel="noopener" href="https://elearning.vector.com/mod/page/view.php?id=4856">标准化</a>通信，其报头包含目标地址和源地址信息。目标地址可以是非本地网络的节点地址。理论上，IP数据包可以实现对全球范围内的任何节点进行<a target="_blank" rel="noopener" href="https://elearning.vector.com/mod/page/view.php?id=4861">寻址</a>。</p><h3 id="路由器（Router）"><a href="#路由器（Router）" class="headerlink" title="路由器（Router）"></a>路由器（Router）</h3><p>为了实现各种局域网络的的互联，采用路由器作为连接设备。路由器是一个同时属于多个网络的节点，因此也具有多个IP地址。</p><p>为了避免IP数据包在错误情况下依然长时间在互联网上流转，当路由器在网络之间转发IP数据包时，会对IP报头中的一个参数（IPv4报文中的TTL（Time To Live，存活时间）、IPv6报文中的HL（Hop Limit，跳数限制））进行倒计时。该参数值等于零时，下一个路由器会丢弃该数据包。</p><p><strong>相关配图</strong></p><div class="tabs" id="特性"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#特性-1">IPv4Header</button></li><li class="tab"><button type="button" data-href="#特性-2">IPv6Header</button></li><li class="tab"><button type="button" data-href="#特性-3">RouterAsCouplingElement</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="特性-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.1_GRA_IPv4Header_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="特性-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.1_GRA_IPv6Header_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="特性-3"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.1_GRA_RouterAsCouplingElement_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="IPv4-版本-4"><a href="#IPv4-版本-4" class="headerlink" title="IPv4 - 版本 4"></a>IPv4 - 版本 4</h2><h3 id="地址和分类"><a href="#地址和分类" class="headerlink" title="地址和分类"></a>地址和分类</h3><p>32位IPv4地址通过点分十进制逐字节表示（如192.168.10.1）。多年以前，IPv4地址分类用于管理Internet公共地址结构。尽管这些分类如今已经没有太大的意义，但通过它们可以对网络地址和主机地址进行基本划分，从而推断网络中的节点数。</p><div class="tabs" id="地址和分类"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#地址和分类-1">IPv4Header</button></li><li class="tab"><button type="button" data-href="#地址和分类-2">IPv4GeneralAddresses</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="地址和分类-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.1_GRA_IPv4Header_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="地址和分类-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.2_GRA_IPv4GeneralAddresses_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="本地地址"><a href="#本地地址" class="headerlink" title="本地地址"></a>本地地址</h3><p>IPv4地址早已分配殆尽。但本地或私有地址仍可供自由使用，例如在公司或私人网络中。这些地址无法通过公共网络访问，路由器也不会在未更改的情况下将本地地址转发到Internet。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.2_GRA_IPv4LocalPrivateAddresses_EN.png" alt=""></p><h3 id="子网掩码（Subnet-masks）"><a href="#子网掩码（Subnet-masks）" class="headerlink" title="子网掩码（Subnet masks）"></a>子网掩码（Subnet masks）</h3><p>IP数据报头所使用的目标和源节点地址由高位（左侧）的网络地址和低位（右侧）的主机地址组成。通常使用子网掩码定义划分IP地址的位置，可以将其表示为独立地址（255.255.255.0）或IP地址加后缀（192.168.10.1/24）。左侧已设置位表示网络地址（如左24个位），而右侧未设置位表示主机地址（如右8个位）。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.2_GRA_IPv4NetworkHostAddresses_EN.png" alt=""></p><h3 id="组播和广播"><a href="#组播和广播" class="headerlink" title="组播和广播"></a>组播和广播</h3><p>如果要将IP数据包发送到多个节点，可以使用组播地址或广播地址。组播地址必须通过IGMP协议配置或创建，而广播地址可以通过主机地址得出。主机地址范围的最大值始终对应于相应的广播地址（如192.168.10.255）。</p><h2 id="IPv6-版本-6"><a href="#IPv6-版本-6" class="headerlink" title="IPv6 - 版本 6"></a>IPv6 - 版本 6</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>IPv6主要是为了解决IPv4地址不足和优化路由过程而开发的。与IPv4相比，IPv6报头中的字段数量从12个减少到8个。</p><h3 id="IPv6地址表示法"><a href="#IPv6地址表示法" class="headerlink" title="IPv6地址表示法"></a>IPv6地址表示法</h3><p>IPv6地址通常用冒分十六进制表示：以两个十六进制格式的字节为一组，每组之间用冒号分隔。连续的四个零通常写作一个零或完全忽略。与IPv4不同，IPv6中没有广播地址。广播是一种特殊的多播。</p><p>IPv6地址的示例：</p><ul><li>1080:0:0:0:8:800:200C:417A (单播地址)</li><li>FF01:0:0:0:0:0:0:101 (组播地址)</li><li>0:0:0:0:0:0:0:1 (环回地址)</li></ul><p>IPv6地址中，只包含0的一个序列块或连续多个全0的序列块可以使用双冒号省略表示，但一个IPv6地址中只能出现一次由双冒号替代的省略表达。</p><ul><li>1080::8:800:200C:417A (单播地址)</li><li>FF01::101 (组播地址)</li><li>::1 (环回地址)</li></ul><h3 id="IPv6地址中的IPv4地址"><a href="#IPv6地址中的IPv4地址" class="headerlink" title="IPv6地址中的IPv4地址"></a>IPv6地址中的IPv4地址</h3><p>混合表示法可以将IPv4地址嵌入到IPv6地址中，即十六进制和十进制值混合使用，例如：</p><ul><li>::13.1.68.3</li><li>::FFFF:129.144.52.38</li></ul><h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><p>在IPv6地址中，除非子网掩码另有定义，一般情况下，地址的前64位指定为网络地址，后64位为主机地址。由于地址空间足够大， IPv6很少使用子网掩码。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.1_GRA_IPv6Header_EN.png" alt=""></p><h2 id="ARP-NDP-ICMP-IGMP-DHCP"><a href="#ARP-NDP-ICMP-IGMP-DHCP" class="headerlink" title="ARP, NDP, ICMP, IGMP, DHCP"></a>ARP, NDP, ICMP, IGMP, DHCP</h2><h3 id="附加协议"><a href="#附加协议" class="headerlink" title="附加协议"></a>附加协议</h3><p>为了辅助和支持任务的执行，一系列附加协议在后台运行。例如，汽车行业当前使用以下附加协议：</p><h3 id="DHCP（Dynamic-Host-Configuration-Protocol，动态主机配置协议）"><a href="#DHCP（Dynamic-Host-Configuration-Protocol，动态主机配置协议）" class="headerlink" title="DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）"></a>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）</h3><p>DHCP协议能够自动将IP地址分配给一个或多个节点。新的IP节点可以自动集成到现有网络中，无需手动配置。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.4_GRA_DHCPPacketStructure_EN.png" alt=""></p><h3 id="ICMP（Internet-Control-Message-Protocol，Internet控制报文协议）"><a href="#ICMP（Internet-Control-Message-Protocol，Internet控制报文协议）" class="headerlink" title="ICMP（Internet Control Message Protocol，Internet控制报文协议）"></a>ICMP（Internet Control Message Protocol，Internet控制报文协议）</h3><p>ICMP协议用于控制任务，是每个IP实现的一部分。一个典型的应用示例是ICMP回应请求（PING）。此命令用于检查两台计算机之间的IP通信。请求节点向目标节点发送PING报文，如果稍后收到了ICMP回应应答（PONG），则表示目标节点可用。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.4_GRA_ICMPPacketStructure_EN.png" alt=""></p><h3 id="ARP（Address-Resolution-Protocol，地址解析协议）"><a href="#ARP（Address-Resolution-Protocol，地址解析协议）" class="headerlink" title="ARP（Address Resolution Protocol，地址解析协议）"></a>ARP（Address Resolution Protocol，地址解析协议）</h3><p>ARP协议用于确定IP和MAC地址之间的相关性。如果IP节点想要与已知IP地址但不知道MAC地址的某个目标进行通信，则可以请求获取其MAC地址。发送节点为此向网络广播发送一个包含目标IP的 ARP请求。收到ARP响应后，可将MAC地址保存在ARP缓存中，供后续发送时使用。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.4_GRA_ARPPacketStructure_EN.png" alt=""></p><h3 id="NDP（Neighbor-Discovery-Protocol，邻居发现协议）"><a href="#NDP（Neighbor-Discovery-Protocol，邻居发现协议）" class="headerlink" title="NDP（Neighbor Discovery Protocol，邻居发现协议）"></a>NDP（Neighbor Discovery Protocol，邻居发现协议）</h3><p>当使用IPv6时，邻居发现协议（基于ICMPv6）将替换ARP协议。 NDP协议用于以下目的：</p><ul><li>路由器发现：识别网络中现有的路由器</li><li>前缀发现：确定本地和远程节点的IPv6地址前缀</li><li>在不使用DHCP协议的情况下自动配置网络节点的IPv6地址（本地链路地址生成）</li><li>参数发现：设置各种参数，如跳数限制</li></ul><div class="tabs" id="ndp"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ndp-1">NDPNeighborAdvertisementSchema</button></li><li class="tab"><button type="button" data-href="#ndp-2">NDPNeighborSolicitationSchema</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ndp-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.4_GRA_NDPNeighborAdvertisementSchema_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ndp-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_5.4_GRA_NDPNeighborSolicitationSchema_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="IGMP（Internet-Group-Management-Protocol，Internet组管理协议）"><a href="#IGMP（Internet-Group-Management-Protocol，Internet组管理协议）" class="headerlink" title="IGMP（Internet Group Management Protocol，Internet组管理协议）"></a>IGMP（Internet Group Management Protocol，Internet组管理协议）</h3><p>IPv4系统使用IGMP将组播组成员信息传递给组播路由器。</p><p>所有需要接收IP组播的主机必须支持该协议。</p><h1 id="TCP-and-UDP"><a href="#TCP-and-UDP" class="headerlink" title="TCP and UDP"></a>TCP and UDP</h1><h2 id="特性-2"><a href="#特性-2" class="headerlink" title="特性"></a>特性</h2><h3 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h3><p>OSI（Open System Interconnection，开放式系统互联）7 层模型的第4层有两种传输协议：TCP（Transmission Control Protocol，传输控制协议）和UDP（User Datagram Protocol，用户数据报协议）。TCP协议是面向连接的传输，而UDP协议则是无连接的传输。这两种协议都会将需要传输的数据划分为更小的部分：在TCP协议中称为段（segment），在UDP协议中称为数据报（datagram）。</p><div class="tabs" id="tcp-and-udp"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tcp-and-udp-1">TCPIPTransportLayer</button></li><li class="tab"><button type="button" data-href="#tcp-and-udp-2">UDPIPTransportLayer</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tcp-and-udp-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.1_GRA_TCPIPTransportLayerCWRECE_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tcp-and-udp-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.1_GRA_UDPIPTransportLayer_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>因为传输协议支持面向连接或无连接的传输，因此适用于不同的用途。根据对安全性和传输速度的要求，可以单独使用TCP或UDP，或者两种协议的组合。</p><h3 id="寻址-1"><a href="#寻址-1" class="headerlink" title="寻址"></a>寻址</h3><p>除为了到达目标节点，数据通过第三层的IP协议进行传输。寻址端口用于连接上层的具体应用或功能。如果端口已打开，则可以通过相关的功能或应用程序交换数据。</p><h2 id="UDP协议：用户数据报协议"><a href="#UDP协议：用户数据报协议" class="headerlink" title="UDP协议：用户数据报协议"></a>UDP协议：用户数据报协议</h2><h3 id="无连接"><a href="#无连接" class="headerlink" title="无连接"></a>无连接</h3><p>UDP协议是一种无连接传输协议，支持简单的数据报传输。与TCP协议不同，UDP协议没有用于保障数据传输的机制。发送方不会收到关于数据报丢失或受到干扰的通知，也没有允许重新发送或再次请求数据报的机制。但是，如有需要，可以在更高层的协议中轻松实现这些功能。</p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>UDP协议的优点是传输变化较小。与TCP协议不同，发送方不必等待来自接收方的反馈。因此，不会出现可能延迟数据报发送的额外等待时间。</p><p>另一个优点是能够将数据报作为组播或广播发送。这意味着可以将UDP数据报发送到网络中的多个节点或所有节点。因此，在信息必须同时发送到多个接收方的情况下，UDP协议传输可降低总线负载率。</p><h3 id="UDP数据包"><a href="#UDP数据包" class="headerlink" title="UDP数据包"></a>UDP数据包</h3><p>UDP数据报封装在IP数据包中，并通过IP发送。在此情况下，IP数据包的报头指示所包含的数据是UDP数据报。因为UDP数据报可包含的数据（65,535个字节）超过IP数据包（1,480个字节），所以可使用分包将UDP数据报分成多个IP数据包。</p><h3 id="分包"><a href="#分包" class="headerlink" title="分包"></a>分包</h3><p>对UDP数据报进行分包时，每个相应的IP数据包都包含两个标识符：一个用于标识UDP数据报，另一个用于标识分包数据在整个UDP数据报中的位置。接收方可以据此将将所有分包数据重组为UDP数据报。如果IP数据包丢失，则接收方将无法重组UDP数据报。由于出现错误后不会再次请求数据，因此接收方将丢弃不完整UDP数据报的所有IP数据包。</p><div class="tabs" id="udp"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#udp-1">UDPIPTransportLayer</button></li><li class="tab active"><button type="button" data-href="#udp-2">ExampleDataTransferUDP</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="udp-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.1_GRA_UDPIPTransportLayer_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="udp-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.2_GRA_ExampleDataTransferUDP_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="TCP协议：传输控制协议"><a href="#TCP协议：传输控制协议" class="headerlink" title="TCP协议：传输控制协议"></a>TCP协议：传输控制协议</h2><h3 id="面向连接"><a href="#面向连接" class="headerlink" title="面向连接"></a>面向连接</h3><p>与UDP协议不同，TCP协议是面向连接的传输。这意味着在实际的数据传输之前必须在两个节点之间建立连接。IP地址和端口号用于分别标识两个节点。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.1_GRA_TCPIPTransportLayerCWRECE_EN.png" alt=""></p><h3 id="建立连接"><a href="#建立连接" class="headerlink" title="建立连接"></a>建立连接</h3><p>TCP协议使用三次握手（三个步骤）建立连接。意图建立连接的节点首先传输包含SYN（Synchronize Sequence Number，同步顺序编号）标识的段。SYN标识表示发送方想要与接收方建立连接。</p><p>除了SYN标志，第一个段还包括单独的序列号、窗口字段和其他可选参数。序列号由一个随机数、ISN（Initial Sequence Number，初始序列号）和一个连续编号组成。连续编号表示当前发送的字节在整个数据流中的位置。接收方根据连续编号确定所有段的顺序，并重组数据流。</p><p>窗口字段提供节点的可用内存的信息，确保发送方发送给接收方的数据不会超过其可用内存的允许范围。因为通信是双向的，所以两个节点都可将各自的可用内存信息传递给对方。</p><p>在第二步中，原始接收方会发送一个SYN ACK，包含SYN标识和ACK标识，从而通知原始发送方已经接收建立连接的请求，并做出肯定确认。原始接收方还会发送自己的序列号。现在两个节点都了解对方的信息，将来所有用于交换的段都可关联到相应的发送方。</p><p>建立连接的第三步（也是最后一步）是原始发送方发送确认报文，通知对方节点已成功建立连接。之后，数据可以在两个节点之间进行交换。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.3_GRA_ExampleConnectionEstablishment_EN.png" alt=""></p><h3 id="数据传输-1"><a href="#数据传输-1" class="headerlink" title="数据传输"></a>数据传输</h3><p>由于TCP协议需要在两个节点之间建立连接，因此无法在没有特定接收方的情况下向网络发送广播或组播报文。只有通过连接才能进行可靠的数据传输，各种机制可确保数据到达接收方并且不被损坏。</p><p>CRC校验和用于保护段数据在传输期间免受损坏。上文提及的序列号可确保即使先发送的段较晚到达接收方，段的顺序也是已知的（不受到达顺序影响）。</p><p>ACK编号用于向发送方确认已接收每个段，前提是未检测到任何错误。接收方通过发送包含ACK标识的段进行确认，这表示该段具有一个有效的ACK编号。每个段还包含有关窗口字段中可用内存的更新信息，以便发送方了解当前可以向接收方发送的数据量。</p><p>如果发送方在规定的时间段内未收到肯定确认，则再次发送该段，因为这意味着该段出现故障或未到达接收方。该时间段由重发定时器决定，存在于每个段中，并且单独进行倒计时。收到肯定确认之后，发送方将清除该段对应的定时器。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.3_GRA_ExampleDataTransferTCP_EN.png" alt=""></p><h3 id="连接释放"><a href="#连接释放" class="headerlink" title="连接释放"></a>连接释放</h3><p>所有数据交换完毕并得到肯定确认之后，连接关闭。为此，节点会发送包含FIN标识的段，表示连接终止。该FIN段的接收方必须进行确认响应，使连接处于半关闭状态。如果接收方也想终止连接，则向原始发送方发送一个包含FIN标志的段。如果得到确认，则完成终止连接，不再传输数据。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_6.3_GRA_ExampleConnectionTermination_EN.png" alt=""></p><h1 id="应用-相关协议"><a href="#应用-相关协议" class="headerlink" title="应用-相关协议"></a>应用-相关协议</h1><h2 id="SOME-IP协议"><a href="#SOME-IP协议" class="headerlink" title="SOME/IP协议"></a>SOME/IP协议</h2><h3 id="背景-1"><a href="#背景-1" class="headerlink" title="背景"></a>背景</h3><p>一种新的数据传输理念正通过SOME/IP（Scalable service-Oriented MiddlewarE over IP）进入汽车领域。经典的总线系统（CAN、LIN、FlexRay）使用面向信号的数据传输，而SOME/IP协议允许引入面向服务的信息传输。但需要注意的是， SOME/IP协议不仅仅限于描述通信。确切地说，SOME/IP是一种对ECU 软件组件产生影响的中间件。因此，AUTOSAR中有一个单独的软件路径，可连接到应用程序。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.1_GRA_SOMEIPMessage_EN.png" alt=""></p><h3 id="按需传输"><a href="#按需传输" class="headerlink" title="按需传输"></a>按需传输</h3><p>对于面向信号的数据传输来说，发送方会在有需要时（如数据更新或变更时）发送信息，而不管网络中的接收方当前是否需要这些数据。面向服务的数据传输则不同，只有当网络中至少有一个接收方需要这些数据时，发送方才会发送数据。这种传输方式的优点是网络和所有连接的节点不会被不必要的数据影响（导致负载上升）。因此，面向服务的数据传输要求服务器能够被告知哪些接收者在等待其数据。</p><h3 id="订阅内容"><a href="#订阅内容" class="headerlink" title="订阅内容"></a>订阅内容</h3><p>客户端可以选择订阅服务器上的服务内容。如果有事件发生，客户端将从服务器接收更新数据。SOME/IP-SD 用于服务内容的订阅。如果客户端希望订阅服务器上的内容，则向服务器发送订阅事件组的报文。如果该内容可以被订阅，服务器将向客户端发送带有肯定确认的响应，表示订阅已激活。如果订阅内容无法访问，服务器通过发送否定确认来拒绝订阅。</p><p>多个客户端可以同时订阅同一个服务内容。服务器向客户端发送数据的方法取决于服务通过UDP还是TCP发送。使用UDP协议时，如果事件发生，服务器可以通过单播、组播或广播向所有已订阅的客户端发送数据。如果通过TCP协议提供内容，则每个客户端必须先与服务器建立连接，然后分别进行数据的发送。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.1_GRA_Event_EN.png" alt=""></p><h3 id="事件和字段通知"><a href="#事件和字段通知" class="headerlink" title="事件和字段通知"></a>事件和字段通知</h3><p>服务器基于有效订阅发送的内容具有两种形式：事件通知和字段通知，两者都是基于事件驱动的。事件通知对应一个表单，包含表示快照的属性，而这些属性与之前的事件没有任何关系，而字段通知包含与之前内容相关的值，因而支持访问历史值。因此，可以扩展字段从而包括getter和setter方法，使客户端能够读写所需内容。这样，即使没有订阅，客户端也可以只读或读写服务器的内容。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.1_GRA_Field_EN.png" alt=""></p><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>另外一种数据交换的方式就是调用方法。客户端通过执行远程过程调用（RPC），来触发相关服务器上函数的启动。客户端通过向网络发送请求可以调用该函数，客户端的请求中还可以包含函数相关的参数数据。服务器执行函数后，会给客户端回复一个返回值。通常客户端调用方法表示该客户端希望使用生成的数据。但是客户端也可能调用服务器上没有任何返回值的方法。在这种情况下，当方法实际被调用时，客户端部分的操作已完成。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.1_GRA_MethodCall_EN.png" alt=""></p><h3 id="服务发现"><a href="#服务发现" class="headerlink" title="服务发现"></a>服务发现</h3><p>为了让客户端知道当前有哪些服务可用，SOME/IP-SD提供两种动态发现服务的机制：通过“提供服务”机制，服务器可向网络发布其所提供的所有服务；通过“查找服务”机制，客户端可以请求可用的服务。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.1_GRA_SOMEIPSDMessageFullHeader_EN.png" alt=""></p><h2 id="AVB（Audio-Video-Bridging，音视频桥）-TSN（Time-Sensitive-Networking，时间敏感网络）"><a href="#AVB（Audio-Video-Bridging，音视频桥）-TSN（Time-Sensitive-Networking，时间敏感网络）" class="headerlink" title="AVB（Audio Video Bridging，音视频桥）/TSN（Time-Sensitive Networking，时间敏感网络）"></a>AVB（Audio Video Bridging，音视频桥）/TSN（Time-Sensitive Networking，时间敏感网络）</h2><h3 id="背景-2"><a href="#背景-2" class="headerlink" title="背景"></a>背景</h3><p>2012年，IEEE将“音视频桥工作组”重命名为“时间敏感网络工作组”。现有的协议标准继续扩展，并增加更多的功能。AVB/TSN支持低延迟和高质量的流数据（如摄像头数据）传输。由于数据不会跨网络边界传输，因此至少在汽车中，可以不使用IP、TCP和UDP协议，AVB/TSN协议直接基于以太网。</p><p>AVB/TSN协议所基于的标准可以通过IP使用，但由于上文所述，以及动态响应问题，因此在汽车内部，AVB/TSN追求更快的运行（即跳过IP，直接基于以太网）。因此，使用流预留协议的动态带宽预留协议一般不用于汽车。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.2_GRA_AVBProtocolStack_EN.png" alt=""></p><h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><p>在AVB/TSN中，数据源被称为Talker，数据接收器被称为Listener。连接Talker和Listener的交换机被称为Bridge。从技术上来说这样描述并不精确，除了Talker和Listener之外，交换机也必须支持AVB/TSN功能，因为交换机要能够支持特殊的MAC 组播地址，支持“时间敏感网络的转发和排队”功能，以及更改PTP报文。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.2_GRA_AVBTopology_EN.png" alt=""></p><h3 id="流数据"><a href="#流数据" class="headerlink" title="流数据"></a>流数据</h3><p>音视频传输协议（AVTP）在其有效负载区域传输数据，通常是视频，音频或控制数据。如果传输的是流媒体数据（音频/视频），那么AVTP 报头中始终会包含一个指向未来某一时刻的时间信息。此外，AVTP使用带VLAN标签的以太网帧，以便交换机可以对数据进行优先级排序。 AVB/TSN提出的另一个质量要求是低延迟抖动，Talker 和Listener 之间的延迟小于2ms。</p><p>当携带未来时间点的帧到达Listener之后， AVTP将帧交付给应用层（如Speaker）。为了使这个时间点（Presentation time，呈现时间）在所有接收节点中同时发生，需要对节点进行高度精确的同步。精确时间协议（PTP）负责此项工作，当前大多使用PTP 协议的简化版本，即gPTP协议。</p><div class="tabs" id="avb"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#avb-1">AVTPCommonStreamHeader</button></li><li class="tab"><button type="button" data-href="#avb-2">AVTPCommonControlHeader</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="avb-1"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.2_GRA_AVTPCommonStreamHeader_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="avb-2"><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.2_GRA_AVTPCommonControlHeader_EN.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="DoIP（Diagnostic-Communication-over-IP，基于IP的诊断通信协议）"><a href="#DoIP（Diagnostic-Communication-over-IP，基于IP的诊断通信协议）" class="headerlink" title="DoIP（Diagnostic Communication over IP，基于IP的诊断通信协议）"></a>DoIP（Diagnostic Communication over IP，基于IP的诊断通信协议）</h2><h3 id="背景-3"><a href="#背景-3" class="headerlink" title="背景"></a>背景</h3><p>以太网在诊断方面的应用已经有多年的时间了，尤其是在ECU的刷写方面。这一应用对汽车制造商和零部件供应商来说非常有吸引力，原因在于极大地缩短生产和售后的刷写时间。</p><h3 id="ISO-13400"><a href="#ISO-13400" class="headerlink" title="ISO 13400"></a>ISO 13400</h3><p>ISO 13400明确定义基于IP的诊断。只要支持IP数据包的传输，使用何种物理层并没有什么区别。 例如，除以太网之外，DoIP也可以基于WLAN和UMTS来实现。</p><h3 id="传输协议"><a href="#传输协议" class="headerlink" title="传输协议"></a>传输协议</h3><p>基于ISO13400的DoIP 不是诊断协议，而是一个扩展传输协议。这意味着虽然DoIP定义了诊断数据包的传输，但诊断服务仍然由诊断协议（如KWP2000协议和UDS协议）规定和说明。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.3_GRA_DoIPMessage_EN.png" alt=""></p><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>DoIP协议需要UDP和TCP的支持。UDP用于状态或配置信息的传输， TCP则通过固定的通信通道传输实际诊断数据包。TCP可确保数据传输的高度可靠性，并自动对大型数据包进行分段。因此，诊断测试仪、带有DoIP诊断功能的ECU（DoIP节点）以及诊断网关（DoIP网关或DoIP边缘节点）都需要支持TCP/UDP协议。</p><h3 id="诊断仪"><a href="#诊断仪" class="headerlink" title="诊断仪"></a>诊断仪</h3><p>与传统总线系统的诊断相同，诊断仪可以发送诊断请求。测试仪可以采用外部设备的形式，例如售后诊断仪或者车载测试仪。ECU处理诊断请求，并向测试仪返回相应的诊断响应。这要求每个ECU底层都支持DoIP协议。</p><h3 id="诊断网关"><a href="#诊断网关" class="headerlink" title="诊断网关"></a>诊断网关</h3><p>为了避免在每个ECU底层实现DoIP，DoIP协议允许使用诊断网关。原则上，车辆内传统总线系统连接的所有ECU都是可用的。网关充当中间人的角色，将测试仪的请求转发到内部网络，以便ECU进行接收和处理。当收到ECU的响应时，网关会将该响应路由回测试仪。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.3_GRA_DiagnosticTesterGateway_EN.png" alt=""></p><h3 id="逻辑地址"><a href="#逻辑地址" class="headerlink" title="逻辑地址"></a>逻辑地址</h3><p>诊断网关需要两方面信息以转发诊断请求和响应。首先，网关需要逻辑地址来对车辆中要诊断的ECU进行唯一标识。其次，网关必须了解在总线或网络上哪些报文将用于发送诊断请求和接收诊断响应。这两方面的信息必须准确提供给ECU，以便其可以通过网关进行访问。</p><h3 id="诊断过程"><a href="#诊断过程" class="headerlink" title="诊断过程"></a>诊断过程</h3><p>在诊断过程中，诊断网关首先接收来自测试仪的请求。该请求包含诊断数据包，其中携带所需的诊断服务和待诊断ECU的逻辑地址信息。随后网关从该诊断数据包中提取有关内容，并将其打包为可在总线或网络上发送的报文。例如，如果要通过CAN总线对ECU进行寻址，网关需要将带有相应的诊断请求标志符（如0x600）的报文发送到总线，然后等待来自ECU的响应。在收到来自总线或网络的响应（如带标志符0x700的CAN报文）之后，网关会将原始诊断服务的响应返回给测试仪。网关会在返回给测试仪的响应中添加ECU 的逻辑地址，以便测试仪能够区分并分配响应。这样，测试仪可以向位于不同的总线系统和网络的多个ECU发送请求，而无需按照发送请求的顺序等待响应。</p><p><img src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/IP_7.3_GRA_ExampleDiagnosticProcess_EN.png" alt=""></p></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Ethernet 车载以太网（Vector）</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://shenyanwu.top/2022/07/28/Ethernet%20Protocol/">https://shenyanwu.top/2022/07/28/Ethernet Protocol/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Shenyan Wu</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2022-07-28</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-08-27</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Protocol/">Protocol</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/Ethernet_cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><link rel="stylesheet" href="/" media="defer" onload='this.media="all"'><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂一下</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.shenyanwu.top/Image/rw_wechat.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.shenyanwu.top/Image/rw_wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.shenyanwu.top/Image/rw_alipay.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.shenyanwu.top/Image/rw_alipay.png" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer src="/"></script><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>Comment</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%A6%E8%BD%BD%E4%BB%A5%E5%A4%AA%E7%BD%91%EF%BC%88Automotive-Ethernet%EF%BC%89%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9D%97"><span class="toc-text">车载以太网（Automotive Ethernet）学习模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E7%BE%A4%E4%BD%93"><span class="toc-text">目标群体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector%E5%9F%B9%E8%AE%AD%E8%AF%BE%E7%A8%8B"><span class="toc-text">Vector培训课程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF"><span class="toc-text">相关信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="toc-text">学习目标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E6%B1%82"><span class="toc-text">要求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4"><span class="toc-text">范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%94%A8%E6%97%B6"><span class="toc-text">学习用时</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E"><span class="toc-text">版权声明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E5%9B%A0"><span class="toc-text">动因</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E8%83%8C%E6%99%AF"><span class="toc-text">历史背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E7%9B%8A%E5%A2%9E%E5%8A%A0%E7%9A%84%E9%9C%80%E6%B1%82"><span class="toc-text">日益增加的需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-text">以太网</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%96"><span class="toc-text">标准化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IEEE%EF%BC%88The-Institute-of-Electrical-and-Electronics-Engineers%EF%BC%8C%E7%BE%8E%E5%9B%BD%E7%94%B5%E6%B0%94%E4%B8%8E%E7%94%B5%E5%AD%90%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%8D%8F%E4%BC%9A%EF%BC%89"><span class="toc-text">IEEE（The Institute of Electrical and Electronics Engineers，美国电气与电子工程师协会）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OPEN-Alliance-SIG"><span class="toc-text">OPEN Alliance SIG</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-text">物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IEEE-100BASE-T1%EF%BC%88%E5%89%8D%E8%BA%AB%E5%8D%B3OABR"><span class="toc-text">IEEE 100BASE-T1（前身即OABR)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86"><span class="toc-text">标准</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E8%BF%9E%E6%8E%A5"><span class="toc-text">物理连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%EF%BC%88Encoding%EF%BC%89%E5%92%8C%E8%A7%A3%E7%A0%81%EF%BC%88Decoding%EF%BC%89"><span class="toc-text">编码（Encoding）和解码（Decoding）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84%EF%BC%88Topology%EF%BC%89"><span class="toc-text">拓扑结构（Topology）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%8F%8C%E5%B7%A5%EF%BC%88Full-duplex%EF%BC%89"><span class="toc-text">全双工（Full duplex）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5"><span class="toc-text">同步</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IEEE-100BASE-TX"><span class="toc-text">IEEE 100BASE-TX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E8%BF%9E%E6%8E%A5-1"><span class="toc-text">物理连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="toc-text">编码和解码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E7%BC%86%E5%92%8C%E8%BF%9E%E6%8E%A5%E5%99%A8"><span class="toc-text">电缆和连接器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84"><span class="toc-text">拓扑结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E9%87%8D%E5%8D%95%E5%B7%A5%EF%BC%88Dual-Simplex%EF%BC%89"><span class="toc-text">双重单工（Dual Simplex）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IEEE-1000BASE-T"><span class="toc-text">IEEE 1000BASE-T</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E8%BF%9E%E6%8E%A5-2"><span class="toc-text">物理连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81-1"><span class="toc-text">编码和解码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E7%BC%86%E5%92%8C%E8%BF%9E%E6%8E%A5%E5%99%A8-1"><span class="toc-text">电缆和连接器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84-1"><span class="toc-text">拓扑结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%8F%8C%E5%B7%A5"><span class="toc-text">全双工</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5-1"><span class="toc-text">同步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IEEE%E4%BB%A5%E5%A4%AA%E7%BD%91MAC%E5%92%8CVLAN"><span class="toc-text">IEEE以太网MAC和VLAN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-text">特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-text">基本功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-text">数据传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">总线访问方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E6%A3%80%E6%B5%8B"><span class="toc-text">冲突检测</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BB%E5%9D%80"><span class="toc-text">寻址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%AF%BB%E5%9D%80"><span class="toc-text">节点寻址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%92%AD%EF%BC%88Unicast%EF%BC%89"><span class="toc-text">单播（Unicast）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%92%AD%EF%BC%88Multicast%EF%BC%89%E5%92%8C%E5%B9%BF%E6%92%AD%EF%BC%88Broadcast%EF%BC%89"><span class="toc-text">组播（Multicast）和广播（Broadcast）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VLAN%EF%BC%88%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91%EF%BC%89"><span class="toc-text">VLAN（虚拟局域网）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">优先级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7"><span class="toc-text">以太网帧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B8%A7%E5%92%8C%E6%A0%87%E8%AF%86%E5%B8%A7%EF%BC%88tagged-frame%EF%BC%89"><span class="toc-text">基本帧和标识帧（tagged frame）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80"><span class="toc-text">MAC地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%B1%BB%E5%9E%8B"><span class="toc-text">以太网类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VLAN%E6%A0%87%E7%AD%BE"><span class="toc-text">VLAN标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E6%95%88%E8%B4%9F%E8%BD%BD"><span class="toc-text">有效负载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CRC%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-text">CRC校验和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-text">以太网数据包</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IP%E5%8D%8F%E8%AE%AE-IPv4-IPv6"><span class="toc-text">IP协议- IPv4&#x2F;IPv6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7-1"><span class="toc-text">特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8A%BF"><span class="toc-text">优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-text">IP数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%EF%BC%88Router%EF%BC%89"><span class="toc-text">路由器（Router）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv4-%E7%89%88%E6%9C%AC-4"><span class="toc-text">IPv4 - 版本 4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E5%92%8C%E5%88%86%E7%B1%BB"><span class="toc-text">地址和分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80"><span class="toc-text">本地地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%EF%BC%88Subnet-masks%EF%BC%89"><span class="toc-text">子网掩码（Subnet masks）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%92%AD%E5%92%8C%E5%B9%BF%E6%92%AD"><span class="toc-text">组播和广播</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IPv6-%E7%89%88%E6%9C%AC-6"><span class="toc-text">IPv6 - 版本 6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%9C%B0%E5%9D%80%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-text">IPv6地址表示法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6%E5%9C%B0%E5%9D%80%E4%B8%AD%E7%9A%84IPv4%E5%9C%B0%E5%9D%80"><span class="toc-text">IPv6地址中的IPv4地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-text">子网掩码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP-NDP-ICMP-IGMP-DHCP"><span class="toc-text">ARP, NDP, ICMP, IGMP, DHCP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E5%8D%8F%E8%AE%AE"><span class="toc-text">附加协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP%EF%BC%88Dynamic-Host-Configuration-Protocol%EF%BC%8C%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ICMP%EF%BC%88Internet-Control-Message-Protocol%EF%BC%8CInternet%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">ICMP（Internet Control Message Protocol，Internet控制报文协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%EF%BC%88Address-Resolution-Protocol%EF%BC%8C%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">ARP（Address Resolution Protocol，地址解析协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NDP%EF%BC%88Neighbor-Discovery-Protocol%EF%BC%8C%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">NDP（Neighbor Discovery Protocol，邻居发现协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IGMP%EF%BC%88Internet-Group-Management-Protocol%EF%BC%8CInternet%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">IGMP（Internet Group Management Protocol，Internet组管理协议）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TCP-and-UDP"><span class="toc-text">TCP and UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7-2"><span class="toc-text">特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-text">传输层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BB%E5%9D%80-1"><span class="toc-text">寻址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E5%8D%8F%E8%AE%AE%EF%BC%9A%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE"><span class="toc-text">UDP协议：用户数据报协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5"><span class="toc-text">无连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-text">UDP数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%8C%85"><span class="toc-text">分包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E5%8D%8F%E8%AE%AE%EF%BC%9A%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-text">TCP协议：传输控制协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5"><span class="toc-text">面向连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="toc-text">建立连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93-1"><span class="toc-text">数据传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E9%87%8A%E6%94%BE"><span class="toc-text">连接释放</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BA%94%E7%94%A8-%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE"><span class="toc-text">应用-相关协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SOME-IP%E5%8D%8F%E8%AE%AE"><span class="toc-text">SOME&#x2F;IP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF-1"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E4%BC%A0%E8%BE%93"><span class="toc-text">按需传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A2%E9%98%85%E5%86%85%E5%AE%B9"><span class="toc-text">订阅内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%92%8C%E5%AD%97%E6%AE%B5%E9%80%9A%E7%9F%A5"><span class="toc-text">事件和字段通知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0"><span class="toc-text">服务发现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVB%EF%BC%88Audio-Video-Bridging%EF%BC%8C%E9%9F%B3%E8%A7%86%E9%A2%91%E6%A1%A5%EF%BC%89-TSN%EF%BC%88Time-Sensitive-Networking%EF%BC%8C%E6%97%B6%E9%97%B4%E6%95%8F%E6%84%9F%E7%BD%91%E7%BB%9C%EF%BC%89"><span class="toc-text">AVB（Audio Video Bridging，音视频桥）&#x2F;TSN（Time-Sensitive Networking，时间敏感网络）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF-2"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-text">组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E6%95%B0%E6%8D%AE"><span class="toc-text">流数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DoIP%EF%BC%88Diagnostic-Communication-over-IP%EF%BC%8C%E5%9F%BA%E4%BA%8EIP%E7%9A%84%E8%AF%8A%E6%96%AD%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">DoIP（Diagnostic Communication over IP，基于IP的诊断通信协议）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF-3"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ISO-13400"><span class="toc-text">ISO 13400</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-text">传输协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82"><span class="toc-text">需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E4%BB%AA"><span class="toc-text">诊断仪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E7%BD%91%E5%85%B3"><span class="toc-text">诊断网关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80"><span class="toc-text">逻辑地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E8%BF%87%E7%A8%8B"><span class="toc-text">诊断过程</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Shenyan Wu</div><div class="framework-info"><span>Framework</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><br><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_Hexo.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_Hexo.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_Butterfly.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_Butterfly.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://console.dogecloud.com/" style="margin-inline:5px" title="本站使用多吉云为部分静态资源提供CDN加速"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_CDN.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_CDN.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站托管于Vercel"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_Vercel.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_Vercel.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_Github.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_Github.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20235551" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20235551号"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_%E8%90%8CICP%E5%A4%87-20235551.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_%E8%90%8CICP%E5%A4%87-20235551.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn" style="margin-inline:5px" title="备案啦，实名冲浪! 晋ICP备2023014808号-1"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_ICP%E5%A4%872023014808%E5%8F%B7-1.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_ICP%E5%A4%872023014808%E5%8F%B7-1.svg" alt="" data-ll-status="loaded" class="entered loaded"></a><a class="github-badge" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://cdn.shenyanwu.top/Image/Footer/Footer_Copyright-BY--NC--SA%204.svg" data-lazy-src="https://cdn.shenyanwu.top/Image/Footer/Footer_Copyright-BY--NC--SA%204.svg" alt="" data-ll-status="loaded" class="entered loaded"></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="Toggle Between Light And Dark Mode"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight,500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.shenyanwu.top/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"!=typeof twikoo?getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(t):setTimeout(t,0)};o()})()</script></div><script async src="/js/music_custom.js"></script><canvas id="universe"></canvas><script defer src="/js/universe_custom.js"></script><script async src="//at.alicdn.com/t/c/font_3949965_zlxge6oopd.js"></script><script async src="//at.alicdn.com/t/c/font_3961691_jvjklfsnh6.js"></script><script async src="//at.alicdn.com/t/c/font_3952611_jy1uuol1v2f.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="/js/sun_moon_custom.js"></script><script async src="/js/title_custom.js"></script><script defer src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script defer src="/js/lunar_custom.js"></script><script defer src="/js/day_custom.js"></script><script async src="/js/coin_custom.js"></script><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async data-pjax src="/js/tencentmap.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script data-pjax>function butterfly_clock_anzhiyu_injector_config(){var e=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载butterfly_clock_anzhiyu"),e&&e.insertAdjacentHTML("afterbegin",'<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>')}for(var elist="null".split(","),cpage=location.pathname,epage="/",qweather_key="23fedd2a680a407d8ecdd2783a008edc",gaud_map_key="e2b04289e870b005374ee030148d64fd&s=rsv3",baidu_ak_key="undefined",flag=0,clock_rectangle="113.34532,23.15624",clock_default_rectangle_enable="false",i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_clock_anzhiyu_injector_config()</script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>function butterfly_swiper_injector_config(){var t=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),t.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/07/28/Ethernet Protocol/" alt=""><img width="48" height="48" src="https://cdn.shenyanwu.top/Image/Article/Vector/Ethernet/image/Ethernet_cover.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-28</span><a class="blog-slider__title" href="2022/07/28/Ethernet Protocol/" alt="">Ethernet 车载以太网（Vector）</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/07/28/Ethernet Protocol/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/07/22/CAN Protocol/" alt=""><img width="48" height="48" src="https://cdn.shenyanwu.top/Image/Article/Vector/CAN/image/CAN%20Controller%20title.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-22</span><a class="blog-slider__title" href="2022/07/22/CAN Protocol/" alt="">CAN 通信协议（Vector）</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/07/22/CAN Protocol/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="/",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="//at.alicdn.com/t/c/font_4229898_plk7gghxaqf.js"></script></body></html>